<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>
    <title>interactive visualisation</title>
    <style>
      body {
        background-color: aquamarine;
      }
      p {
        text-align: center;
      }
    </style>
  </head>
  <body>
    <div class="chartBox">
      <canvas id="myChart"></canvas>
    </div>
    <div class="buttonBox">
      <p>
        Survey year: <input type="radio" name="year" value="2019"
        onclick="changeChart([0.10, 0.11,0.25,0.04, 0.12, 0.15, 0.11,
        0.15, 0.01, 0.14],'green')"/>2019
        <input type="radio" name="year" value="2020" onclick="changeChart([0.20, 0.17,0.20,0.03, 0.14, 0.11, 0.13,
        0.10, 0.02, 0.17],'blue')" />2020
        <input type="radio" name="year" value="2021" checked="checked" onclick="changeChart([0.13, 0.15,0.29,0.08, 0.19, 0.19, 0.17,
        0.18, 0.03, 0.18],'red')" />2021
      </p>
    </div>
    <script>
      var xValues = [
        "insomnia",
        "anhedonia",
        "unmotivated",
        "hopeless",
        "fearful",
        "agitated",
        "sad",
        "nervous",
        "worthless",
        "somatic"
      ];

      const ctx = document.getElementById("myChart");
      const myChart = new Chart(ctx, {
        type: "bar",
        data: {
          labels: xValues,
          datasets: [
            {
              fill: false,
              lineTension: 0,
              backgroundColor: "rgba(236, 113, 113)",
              borderColor: "rgba(0,0,255,0.1)",
              data: [0.13, 0.15,0.29,0.08, 0.19, 0.19, 0.17, 0.18, 0.03, 0.18]
            }
          ]
        },
        options: {
          legend: { display: false },
          scales: {
            yAxes: [{ ticks: { min: 0, max: 0.4 } }]
          }
        }
      });
      function changeChart(data,barColor) {
        myChart.data.datasets[0].data = data;
        myChart.data.datasets[0].backgroundColor = barColor;
        myChart.update();
      }
    </script>
  </body>
</html>
